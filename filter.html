<html>
	<head>
	</head>
	<body>
		<canvas style="background-color: rgba(0, 0, 0, 0.25)">
		</canvas>
		<img src="Untitled.png" style="display: none;">
		<button id="test">Put a Picture</button>
		<button id="test2">Gray Scale</button>
	</body>
	<script>
	let app = {
		setCanvas: function(el) {
			if (typeof(el) == 'object') {
				this.canvas = el;
				this.ctx = this.canvas.getContext('2d');
			}
		},
		canvas: '',
		ctx: '',
		clear: function() {
			this.ctx.beginPath();
			this.clearRect(0, 0, this.canvas.width, this.canvas.height);
			this.ctx.fill();
			this.ctx.closePath();
		},
		filter: (scale) => {
			switch(scale) {
				case 'grayscale':
					for (let i = 0; i < app.canvas.width; i++) {
						for (let j = 0; j < app.canvas.height; j++) {
							let dat = app.ctx.getImageData(i, j, 1, 1).data;
							let fS = '';
							if (dat[0] > dat[1] && dat [0] > dat[2]) { // Red is the highest
								fS = dat[0];
							} else if (dat[1] > dat[0] && dat [1] > dat[2]) { // Green is the highest
								fS = dat[1];
							} else if (dat[2] > dat[0] && dat [2] > dat[1]) { // Blue is the highest
								fS = dat[2];
							} else { // White, black, or plain grey
								fS = dat[0];
							}
							app.ctx.beginPath();
							app.ctx.rect(i, j, 1, 1);
							app.ctx.fillStyle = `rgba(${fS}, ${fS}, ${fS}, ${dat[3]})`;
							app.ctx.fill();
							app.ctx.closePath();
						}
					}
				break;
				case 'pennink':
					for (let i = 0; i < app.canvas.width; i++) {
						for (let j = 0; j < app.canvas.height; j++) {
							let dat = app.ctx.getImageData(i, j, 1, 1).data;
							let fS = '';
							if (dat[0] > dat[1] && dat [0] > dat[2]) { // Red is the highest
								fS = dat[0];
							} else if (dat[1] > dat[0] && dat [1] > dat[2]) { // Green is the highest
								fS = dat[1];
							} else if (dat[2] > dat[0] && dat [2] > dat[1]) { // Blue is the highest
								fS = dat[2];
							} else { // White, black, or plain grey
								fS = dat[0];
							}
							app.ctx.beginPath();
							app.ctx.rect(i, j, 1, 1);
							app.ctx.fillStyle = `rgba(${fS}, ${fS}, ${fS}, ${dat[3]})`;
							app.ctx.fill();
							app.ctx.closePath();
						}
					}
				break;
				default:
				
				break;
			}
		},
		lightfilter: (scale, perSec) => {
			if (!perSec) {
				perSec = 100;
			}
			switch(scale) {
				case 'grayscale':
					let i = 0;
					function iw() {
						for (let j = 0; j < app.canvas.height; j++) {
							let dat = app.ctx.getImageData(i, j, 1, 1).data;
							let fS = '';
							if (dat[0] > dat[1] && dat [0] > dat[2]) { // Red is the highest
								fS = dat[0];
							} else if (dat[1] > dat[0] && dat [1] > dat[2]) { // Green is the highest
								fS = dat[1];
							} else if (dat[2] > dat[0] && dat [2] > dat[1]) { // Blue is the highest
								fS = dat[2];
							} else { // White, black, or plain grey
								fS = dat[0];
							}
							app.ctx.beginPath();
							app.ctx.rect(i, j, 1, 1);
							app.ctx.fillStyle = `rgba(${fS}, ${fS}, ${fS}, ${dat[3]})`;
							app.ctx.fill();
							app.ctx.closePath();
						}
						setTimeout(function(){
						i++;
						iw()}, 1000/perSec);
					}
					iw();
				break;
				default:
				
				break;
			}
		},
	}
	</script>
	<script>
	setTimeout(function() {
		app.canvas.width = window.innerWidth + 'px';
		app.canvas.height = window.innerHeight + 'px';
		app.setCanvas(document.getElementsByTagName('canvas')[0]);
		app.ctx.fillStyle = 'rgb(255, 155, 5)';
		app.ctx.fillRect(0, 0, 25, 25)
		app.ctx.fillStyle = 'rgb(125, 155, 5)';
		app.ctx.fillRect(40, 0, 25, 25)
		app.ctx.fillStyle = 'rgb(125, 155, 36)';
		app.ctx.fillRect(25, 25, 25, 25)
	}, 500);
	document.getElementById('test').onclick = () => {
		app.ctx.drawImage(document.getElementsByTagName('img')[0], 0, 0 app.canvas.width, app.canvas.height);
	}
	document.getElementById('test2').onclick = () => {
		app.lightfilter('grayscale');
	} //update
	</script>
</html>
