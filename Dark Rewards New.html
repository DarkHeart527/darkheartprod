<html>
	<head>
		<style>
		body {
		 margin: 0px;
		}
		header {
		 display: grid;
		 width: 100%;
		 height: 10%;
		 grid-template-columns: 1fr 1fr 1fr;
		 align-items: center;
		 justify-items: center;
		}
		.earn {
		 width: 90%;
		 height: 40%;
		 margin: 0 auto;
		}
		.stats {
		 width: 40%;
		 height: 40%;
		 margin-left: 10%;
		 clear: both;
		 float: left;
		 margin-top: 1%;
		}
		.refer {
		 width: 40%;
		 height: 20%;
		 float: right;
		 margin-right: 7.5%;
		 margin-top: 5%;
		}
		#referId {
		 cursor: pointer;
		}
		footer {
		 width: 100%;
		 height: 10%;
		 position: absolute;
		 bottom: -10%;
		}
		.overlay {
		 background-color: rgba(0, 0, 0, 0.5);
		 position: fixed;
		 top: 0px;
		 font-size: 35px;
		 left: 0px;
		 width: 100%;
		 height: 100%;
		 display: grid;
		 align-items: center;
		 justify-items: center;
		}
		</style>
	</head>
	<body>
		<header>
			<p class="dhp">DarkHeart Productions</p>
			<p class="user">
				<!-- Load Users User Name Here -->
			</p>
			<p id="redeem">Points: <span class="points">677</span> (Click to Redeem)
			</p>
		</header>
		<p>Minute to Points conversion rate: 3 points / second</p>
		<div class="earn">
			<!-- The videos will be generated here from a script -->
		</div>
		<div class="stats">
			<p>Total Videos Watched: 25</p>
			<p>Total Links Clicked: 16</p>
			<p>Total Video Time Watched: 215</p>
			<p>Total Earnings from Videos: 645</p>
			<p>Total Earnings from Links: 32</p>
			<div class="logs">
				Logs:
				<p>Log</p>
			</div>
		</div>
		<div class="refer">
			<p>Refer friends to earn 1000 points each sign up!</p>
			<p>Click to Copy</p>
			<input id="referId" value="https://darkheartproductions.online/Dark%20Rewards%20New.html#DarkHeartProductions"/>
		</div>
		<footer>
		</footer>
		<div id="signIn">
		</div>
		<div class="overlay">
			<div>
				<p>Work In Progress (WIP), check back later to see updates.</p>
				<p>Whitelisted IPs:</p>
				<p>75.140.**.***</p>
			</div>
		</div>
	</body>
	<script>
	let data;
	function updateSigninStatus(isSignedIn) {
		if (isSignedIn) {
			document.getElementById('signIn').style.display = 'none';
			Sheets.url = '1dRmFSE4nyfrPpH2VaM2EbHxhGgrEbfVSDs-y-GLgrZI';
			Sheets.read('B2:B', function() {
				let result = Sheets.result;
				for (let i = 0; i < result.length; i++) {
					if (result[i][0] == gapi.auth2.getAuthInstance().currentUser.Ab.w3.U3) {
						i = result.length - 1;
						Sheets.read(`A${i + 2}:F${i + 2}`, function() {
							data = Sheets.result;
							let userName = data[0][0];
							let email = data[0][1];
							let points = data[0][2];
							let redemptionRequests = data[0][3];
							let userLogs = data[0][4];
							let timeStamps = data[0][5];
							let stats = data[0][6];
							let ref = document.getElementById('referId');
							ref.readOnly = true;
							ref.value = 'https://darkheartproductions.online/Dark%20Rewards%20New.html#' + userName;
							ref.onclick = function() {
								this.attributes.lastText = this.value;
								this.select();
								document.execCommand('copy');
								this.setSelectionRange(0, 0);
								this.value = 'Copied to Clipboard';
								setTimeout(function() {
									ref.value = ref.attributes.lastText;
								}, 1500);
							}
							for (let j = 0; j < document.getElementsByClassName('user').length; j++) {
								document.getElementsByClassName('user')[j].innerHTML = userName;
							}
							for (let k = 0; k < document.getElementsByClassName('points').length; k++) {
								document.getElementsByClassName('points')[k].innerHTML = points;
							}
							document.getElementsByClassName('logs')[0].innerHTML = userLogs;
						});
					}
				}
			});
			ytads.videos = [];
		} else {
			document.getElementById('signIn').style.display = 'block';
		}
	}
	function getIP(json) {
		if (json.ip == '75.140.27.241') {
			document.getElementsByClassName('overlay')[0].style.display = 'none';
		}
	}
	document.getElementById('redeem').onclick = function() {
		location = location.host + '/redeem.html';
	}
	</script>
	<script type="application/javascript" src="https://api.ipify.org?format=jsonp&callback=getIP"></script>
	<script src="YouTube Advert.js">
	</script>
	<script src="sheetsSimplifier.js">
	</script>
</html>
