<html>
	<head>
		<title></title> <!-- Change this with google data -->
		<style>
		body {
			margin: 0px;
		}
		.header {
			display: grid;
			justify-items: center;
			align-items: center;
			width: 100%;
			height: 15%;
			grid-template-columns: 1fr 1fr 1fr 1fr;
		}
		.gridPlacement {
			display: grid;
			justify-items: center;
			align-items: center;
			grid-template-columns: 1fr 1fr;
			grid-gap: 25px;
			margin-top: 25px;
			margin-bottom: 15%;
		}
		.header a {
			font-size: 35px;
			text-decoration: none;
		}
		.exp {
			min-height: 380px;
			width: 380px;
			max-height: 500px;
			padding: 10px
		}
		.header .usrName {
			font-size: 35px;
		}
		.footer {
			width: 100%;
			height: 10%;
			position: fixed;
			bottom: 0px;
			left: 0px;
		}
		.login {
			font-size: 35px;
			cursor: pointer;
		}
		.exp .title {
			font-size: 30px;
			text-align: center;
			margin-bottom: 5px;
		}
		.exp .dsc {
			font-size: 20px;
		}
		.exp .ytvideo {
			width: 100%;
			height: 250px;
			background-color: grey;
			margin-top: 5px;
		}
		.exp .download {
			text-align: center;
			margin-top: 12.5px;
		}
		.exp .download a {
			text-decoration: none;
			font-size: 30px;
		}
		.overlay {
			width: 100%;
			height: 100%;
			position: fixed;
			background-color: white;
			top: 0px;
			left: 0px;
		}
		</style>
		<style id="customizedStyle">
		.exp {
			background-color: black;
		}
		.header .usrName {
			color: white;
		}
		.header {
			background-color: black;
		}
		.footer {
			background-color: rgba(0, 0, 0, .75);
		}
		.header a {
			color: rgb(155, 155, 255);
		}
		.header a:hover {
			color: white;
		}
		.login {
			color: rgb(155, 155, 255)
		}
		.login:hover {
			color: white;
		}
		.exp .title {
			color: white;
		}
		.exp .desc {
			color: white;
		}
		.exp .download a {
			color: rgb(155, 155, 255);
		}
		.exp .download a:hover {
			color: white;
		}
		</style>
	</head>
	<body id="top">
		<div class="header">
			<p class="usrName">Nathan</p>
			<a href="#">Home</a>
			<p></p>
			<p class="login">Loading...</p>
		</div>
		<div class="gridPlacement">
		</div>
		<div class="footer">
			
		</div>
		<div class="overlay" style="display: none;">
			
		</div>
	</body>
	<script src="sheetsSimplifier.js"></script>
	<script>		
		let app = {
			overActive: false,
			actOverlay: function() {
				if (this.overActive) {
					this.overActive = false;
					document.getElementsByClassName('overlay')[0].style.display = "none";
					document.body.style.overflow = "";
				} else {
					this.overActive = true;
					document.getElementsByClassName('overlay')[0].style.display = "block";
					document.body.style.overflow = "hidden";
				}
			},
			readTags: function() {
				let t = location.href.split('#')[1];
				if (!t) {
					return false; // cancel function
				}
			},
			makePost: function(t, qd, ld, d, tw, ltgt, percD, percN, s, p) {
				if (gapi.auth2.getAuthInstance().currentUser.Ab.w3.U3 == 'officialdarkheartproductions@gmail.com') {
					let data = {}
					data.t = t;
					data.qd = qd;
					data.ld = ld;
					data.d = d;
					data.ql = newRandom('all', 10); // Auto generated
					data.tw = tw;
					data.ltgt = ltgt;
					data.percD = percD;
					data.percN = percN;
					data.s = s;
					if (p) {
						data.p = p;
					} else {
						data.p = gapi.auth2.getAuthInstance().currentUser.Ab.w3.ig;
					}
					data.pe = gapi.auth2.getAuthInstance().currentUser.Ab.w3.U3;
				}
			},
		}
		app.readTags();
		
		function updateSigninStatus(isSignedIn) {
			Sheets.url = '15qSjw-3aqxmxWC1aAVLRViK320wBoLC9kP6ZNG55yM4';
			let login = document.getElementsByClassName('login')[0];
			if (isSignedIn) {
				if (gapi.auth2.getAuthInstance().currentUser.Ab.w3.U3 == 'officialdarkheartproductions@gmail.com') {
					login.innerText = "Log Out";
					login.onclick = () => {
						signOut();
					}
					let p = document.createElement('div');
					p.innerText = '+';
					p.className = 'p';
					p.onclick = () => {
						
					}
				}
			} else {
				login.innerText = "Login";
				login.onclick = () => {
					signIn();
				}
			}
			Sheets.read("B2", function() {
				if (Number(Sheets.result) >= 1) {
					Sheets.read("A2:A", function() {
						app.dt = Sheets.result;
						let data = Sheets.result[0];
						for (let i = 0; i < data.length; i++) {
							let d = JSON.parse(data[i]);
							let post = document.createElement('div');
							post.className = "exp";
							document.getElementsByClassName('gridPlacement')[0].appendChild(post)
							let title = document.createElement('div');
							title.className = 'title';
							post.appendChild(title);
							title.innerText = d.t;
							let desc = document.createElement('div');
							desc.innerText = d.qd;
							desc.className = 'desc';
							post.appendChild(desc);
							let ytv = document.createElement('iframe');
							ytv.className = 'ytvideo';
							post.appendChild(ytv)
							let dwn = document.createElement('div');
							post.appendChild(dwn)
							dwn.className = 'download';
							let link = document.createElement('a');
							link.href = d.tw;
							dwn.appendChild(link);
							link.innerText = 'Download';
						}
					});	
				}
			});
		}
	</script>
</html>
